##第一章  引言
### 1.1目的
读者范围：BBS用户，软件设计人员
本文档作为BBS论坛需求说明文档，用与和用户确定最终的目标，并成为协议文本的一部分，同时也是本系统设计人员的基础文档。

### 1.2背景
 BBS电子公告牌系统（Bulletin Board System，英文缩写BBS）通过在计算机上运行服务软件，允许用户使用终端程序通过Internet来进行连接，执行下载数据或程序、上传数据、阅读新闻、与其它用户交换消息等功能。

纯文字式的BBS站点，多数是基于Internet的Telnet协议。在服务器端，采用Maple BBS或者FireBird BBS系统。用户端通过Telnet软件如NetTerm、CTerm、FTerm等来登陆服务器，阅读发表文章，发送邮件，通过仿真的ZModem协议来上传下载数据文件。有些站点还提供SSH登陆，确保连接的安全性，还有很多站点提供Web方式的界面，方便用户使用。

目前国内的BBS已经十分普遍，可以说是不计其数，其中BBS大致可以分为5类：

* 校园BBS CERNET建立以来，校园BBS很快地发展了起来。像清华大学、北京大学等等都建立了自己的BBS系统，清华大学的水木清华很受学生和网民们的喜爱。大多数BBS是由各校的网络中心建立的，也有私人性质的BBS。
* 商业BBS站 ，这里主要是进行有关商业的商业宣传，产品推荐等等，手机的商业站、电脑的商业站、房地产的商业站比比皆是。
* 专业BBS站 这里所说的专业BBS是指部委和公司的BBS，它主要用于建立地域性的文件传输和信息发布系统。
* 情感BBS 主要用于交流情感，是许多娱乐网站的首选。
* 个人BBS 有些个人主页的制作者们在自己的个人主页上建设了BBS，用于接受别人的想法，更有利于与好友进行沟通。

中国大陆BBS界在Firebird BBS基础上还发展了Smth BBS、Ytht BBS、Lily BBS等，提供非常丰富web方式访问，如发文、即时消息、信件、Blog，而部分管理操作则仍然限定为Telnet访问。而客户端的Telnet软件也发展了很多便于操作的功能，如，鼠标响应、URL识别、图片预览，文章自动下载、自定义脚本等。

在基于WEB方式访问的论坛程序中，大陆地区开发的主要有基于Perl语言的雷傲、基于ASP语言的动网、基于语言PHP的Discuz!及PHPWind、基于Java语言的Jute Forum。

台湾BBS界包括有以maple3 为基础发展的itoc 系列，以 Maple 2.36 为基础发展的Ptt BBS系列，使用 java 语言所写成的ColaBBS（已经停止维护）。

### 1.3定义
1. JSP（java服务器页面）：JSP全名为Java Server Pages，中文名叫java服务器页面，其根本是一个简化的Servlet设计，它[1]  是由Sun Microsystems公司倡导、许多公司参与一起建立的一种动态网页技术标准。JSP技术有点类似ASP技术，它是在传统的网页HTML（标准通用标记语言的子集）文件(*.htm,*.html)中插入Java程序段(Scriptlet)和JSP标记(tag)，从而形成JSP文件，后缀名为(*.jsp)。 用JSP开发的Web应用是跨平台的，既能在Linux下运行，也能在其他操作系统上运行。JSP技术使用Java编程语言编写类XML的tags和scriptlets，来封装产生动态网页的处理逻辑。网页还能通过tags和scriptlets访问存在于服务端的资源的应用逻辑。JSP将网页逻辑与网页设计的显示分离，支持可重用的基于组件的设计，使基于Web的应用程序的开发变得迅速和容易。 JSP(JavaServer Pages)是一种动态页面技术，它的主要目的是将表示逻辑从Servlet中分离出来。
2. JDBC（Java Data Base Connectivity,java数据库连接）：是一种用于执行SQL语句的Java API，可以为多种关系数据库提供统一访问，它由一组用Java语言编写的类和接口组成。JDBC提供了一种基准，据此可以构建更高级的工具和接口，使数据库开发人员能够编写数据库应用程序。有了JDBC API，就不必为访问Sybase数据库专门写一个程序，为访问Oracle数据库又专门写一个程序，或为访问Informix数据库又编写另一个程序等等，程序员只需用JDBC API写一个程序就够了，它可向相应数据库发送SQL调用。同时，将Java语言和JDBC结合起来使程序员不必为不同的平台编写不同的应用程序，只须写一遍程序就可以让它在任何平台上运行。
3. struts：struts是开源框架。使用Struts的目的是为了帮助我们减少在运用MVC设计模型来开发Web应用的时间。如果我们想混合使用Servlets和JSP的优点来建立可扩展的应用，struts是一个不错的选择。truts框架具有组件的模块化，灵活性和重用性的优点，同时简化了基于MVC的web应用程序的开发。

struts可以清晰地区分控制，事务逻辑和外观，从而简化了开发应用程序的过程。struts提供的类使得开发工作更加简单，这些类包括：

a. 控制程序流程的类

b.实现和执行程序事务逻辑的类

c.自定义的标记库使得创建和验证HTML表单更加容易

## 第三章  需求规定
### 3.1 功能性需求
#### 用户角色划分
##### 1、普通用户
是该论坛的一种用户，普通用户以游客身份登录本系统，只具有察看帖子的功能，不能留言。 
##### 2、注册用户
具备普通用户所有的能力。并且是已经注册了的用户，可以登录、修改个人信息，并且可以发表留言。
##### 3、版主
具备注册用户所有的能力，其主要权限是对分论坛进行文章管理。
##### 4、管理员
管理员登录以后可以对论坛系统进行管理，包括论坛的基本信息、用户设置，还可以修改管理员密码。
 
### 本论坛系统主要包括前台服务功能和后台管理功能。
#### 前台服务的事件流
##### 1、注册
###### (1)说明
主要是指除管理员以外的用户角色（一般为游客），在网上在线填写一些会员的注册信息。注册后即可成为本论坛会员
###### (2)注册信息如下
| 信息    |   类型    |  描述 |
| ------  |------    |-------|
| 用户名   | 20个字符  |       |
| 密码     | 20个字符  |       |
| 重复密码  | 20个字符  |       |
| 昵称     | 20个字符  |       |
 
###### (3)注册确认
用户通过网上在线注册后，由系统管理员收集相应的资料，核实后，进行用户注册确认，确认后用户成为会员正式生效，可以享受网站提供的各种服务。
###### (4)事件流
只有未注册的用户才能实现注册操作，而当后台系统正确地收集用户提交的信息并保存到数据库表中才算注册成功。
##### 2、登录
###### (1)说明
用户输入登录信息，如用户名、密码、验证码，以会员的身份进入本论坛
######  (2)会员登录信息
| 信息    |   类型    |  描述 |
| ------  |------    |-------|
| 用户名   | 20个字符  |       |
| 密码     | 20个字符  |       |
###### (3)登录确认
用户通过网上在线输入用户的ID标识信息后，由后台系统收集相应的资料，并进行核实比较确认。
###### （4）事件流
当用户是有效的注册用户并且用户所输入的信息与后台系统数据库表中所保存的信息一致时才算登录成功。
##### 3、修改信息
###### (1)说明
会员登录成功后，可以修改自己的注册信息，如密码或者其它的内容等。
###### (2)事件流
注册用户已经登陆系统并且系统正确地接收用户提交的信息并且成功地保存到数据库表中表示修改信息成功。
##### 4、发表帖子
###### (1)说明
注册用户登录成功以后，可以在某版块发表自己的帖子。
###### (2) 会员发表留言的信息应该包括下面的内容
留言者
留言标题
留言信息
###### (3) 发表确认
用户通过网上在线发表后，由后台系统收集相应的资料并正确地保存到数据库表中。
###### (4) 事件流
注册用户已经登陆系统并且系统正确地接收用户提交的信息并且成功地保存到数据库表中表示发帖成功。

##### 5、回复帖子
###### (1)说明
注册用户登录成功以后，可以在某版块针对某个帖子进行回复
###### (2) 会员回复留言的信息应该包括下面的内容
回复者
回复标题
回复内容
###### (3)回复确认
用户通过网上在线回复后，由后台系统收集相应的资料并正确地保存到数据库表中。
###### (4) 事件流
注册用户已经登陆系统并且系统正确地接收用户提交的信息并且成功地保存到数据库表中表示回帖成功。

##### 6、删除留言
###### (1)说明
用户登录成功以后，可以针对自己所发表的某个留言进行在线删除。
###### (2)事件流
注册用户已经登陆系统并发表了留言而后台系统成功地从数据库表中删除该留言的记录表示删除成功。

#### 后台管理系统
##### 1、 用户个人信息管理 
###### (1)个人资料查看:查看自己的所有资料。 
###### (2)编辑个人资料:修改除帐号密码外的所有资料 
###### (3)个人头像，系统默认一个个人头像，并提供12个左右的头像供用户选择，若用户不满意系统自带的头像，可以自己上传头像，头像会被系统按照一定的算法进行压缩以适应论坛的外观和结构，不会产生大的变形。 
###### (4)好友管理，删除、添加、编辑用户的好友。 
###### (5)短消息管理，收件箱、发件箱、草稿箱中的信息删除、编辑等操作。

##### 2、版主后台 
版主的管理界面除了个人后台的所有功能外，还包括以下的功能： 
###### (1)帖子管理：版主有权对自己管理范围内的帖子进行删除、编辑操作。主要操作包括： 
删除帖子、帖子加精、帖子置顶。 
###### (2)用户管理：对违章用户进行惩罚，具体如下：封用户ID，没收用户ID一定时间。 (3)版块公告发布：此权限需要管理员允许。
##### 3、理员后台 
管理员后台拥有版主后台的所有内容，除此之外还包含以下权限：
(1)全论坛用户帐户的删除权限 
(2)公告发布 
(3)论坛设置(UBB,HTML支持等) 
(4)版主设置(添加,更改,废除版主) 
(5)后台帐户管理(密码修改) 
(6)版块管理:添加版块,子版块,设置版块；编辑版块,子版块；删除版块,子版块

#### 后台管理系统的各个事件流
##### 1、系统管理员登陆 
系统管理员提交用户名和密码，系统验证用户名和密码的合法性，系统显示系统管理员管理页面（包含管理员的信息）。
##### 2、论坛基本信息管理 
对网站参数、通行证设置、COOKIE设置、公告设置进行管理-----下面的各个用例只是示例说明，实际应该进一步对下面的部分用例进行细化。
##### 3、打开/关闭论坛 
对论坛的打开或关闭进行管理。
##### 4、用户级别设置 
对用户的级别进行管理。
##### 5、发帖设置 
对用户的帖子设置、上传文件设置、全文检索设置、缓存设置进行管理。
##### 6、版区设置： 
对各个版区进行管理。
##### 7、修改密码 
对管理员的用户名和密码进行管理

# 第四章 环境需求

### 4.1 网络需求

服务器与客户端需要连接在同一个局域网内；

### 4.2 硬件设备

​	本系统本地机上进行开发测试，客户端和服务器可以运行在同一台主机上或者同一局域网的不同主机上；

* **服务器**
  * CPU：2核
  * 内存容量：2G及以上
  * 硬盘容量：1000G及以上
  * 网络带宽：10M及以上
* 本地机
  * CPU：2核
  * 内存容量：4G及以上
  * 硬盘容量：40G及以上
  * 网络带宽：10M及以上

### 4.3支持软件

1. 操作系统：Windows和MacOS

2. 开发软件：

   * 前端：IntelliJ IDEA
   * 后端：IntelliJ IDEA

3. 数据库系统

   考虑到用户的数据流量，使用MySQL等中型数据库；

